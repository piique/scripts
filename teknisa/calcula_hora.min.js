javascript: var usuario = "<USUARIO>", senha = "<SENHA>", horario_base = "09:00", horas_por_dia = "08:00", considerar_almoco = 30, considera_horario_de_verao = !1; function login(e, t) { document.getElementById("int_login:tab_int_login:valida") && (document.getElementById("int_login:tab_int_login:acesso").value = e, document.getElementById("int_login:tab_int_login:senha").value = t, document.getElementById("int_login:tab_int_login:valida").click()), setTimeout(function () { document.getElementById("menu1003871") && document.getElementById("menu1003871").click(), setTimeout(function () { document.getElementById("win_int00018_000:tab_int00018_000_000_filter:filter") && document.getElementById("win_int00018_000:tab_int00018_000_000_filter:filter").click(), setTimeout(function () { document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled")[document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled").length - 1] && document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled")[document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled").length - 1].click(), setTimeout(function () { calculateTime(document.getElementById("win_int00018_000:tab_int00018_000_001:grid").getElementsByClassName("slick-viewport")[0].getElementsByClassName("grid-canvas")[0]) }, 4e3) }, 2700) }, 7e3) }, 4e3) } function calculateTime(e) { let t = timeToMinutes(horas_por_dia), n = getCurrentTime(considera_horario_de_verao), l = timeToMinutes(e.children[0].children[1].innerHTML), i = l >= timeToMinutes(horario_base) - 5 ? timeToMinutes(e.children[0].children[1].innerHTML) : timeToMinutes(horario_base) - 5; if (1 == e.childElementCount) window.alert("Faltam " + minutesToTime(t - (n - i) + 60) + " para ir embora.\nHorário de saída: " + minutesToTime(t - (n - i) + 60 + n)); else if (e.childElementCount >= 3) { let a = n - timeToMinutes(e.children[e.childElementCount - 2].children[1].innerHTML) + timeToMinutes(e.children[e.childElementCount - 1].children[e.children[e.childElementCount - 1].childElementCount - 1].innerHTML); console.log(minutesToTime(a)), a = l == i ? a : a - (i - l), console.log(minutesToTime(a)); let o = [], s = e.childElementCount - 2, c = 0, m = 0, r = 60; for (let t = 0; t < s; t++)o[t] = timeToMinutes(e.children[t + 1].children[1].innerHTML) - timeToMinutes(e.children[t].children[2].innerHTML); (m = (o = o.sort(function (e, t) { return t - e }))[0]) >= considerar_almoco && (o.shift(), r = 0), c = o.reduce((e, t) => t <= 2 ? e + t : e, 0), window.alert("Faltam " + minutesToTime(t - a - c + r) + " para ir embora.\nHorário de saída: " + minutesToTime(n + t - a - c + r)) } } function timeToMinutes(e) { return 60 * Number(e.substring(0, 2)) + Number(e.substring(3, 5)) } function minutesToTime(e) { return (1 == Math.trunc(e / 60).toString().length ? "0" + Math.trunc(e / 60) : Math.trunc(e / 60).toString()) + ":" + (1 == (e % 60).toString().length ? "0" + e % 60 : (e % 60).toString()) } function getCurrentTime(e) { let t = new Date; return e ? 60 * t.getHours() + t.getMinutes() : 60 * (t.getHours() - 1) + t.getMinutes() } null != document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled")[document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled").length - 1] ? null != document.getElementsByClassName("ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable")[0] ? (document.getElementById("win_int_sessao_expirou:tab_int_sessao_expirou:senha").value = senha, document.getElementById("win_int_sessao_expirou:tab_int_sessao_expirou:confirm").click(), document.getElementById("win_int00018_000:tab_int00018_000_000:tk_reload_filter").getElementsByClassName("actionButton")[0].click(), setTimeout(function () { document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled")[document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled").length - 1].click(), setTimeout(function () { calculateTime(document.getElementById("win_int00018_000:tab_int00018_000_001:grid").getElementsByClassName("slick-viewport")[0].getElementsByClassName("grid-canvas")[0]) }, 4e3) }, 3e3)) : (document.getElementById("win_int00018_000:tab_int00018_000_000:tk_reload_filter").getElementsByClassName("actionButton")[0].click(), setTimeout(function () { document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled")[document.getElementsByClassName("slick-cell lr l1 r1 tk-date-cell disabled").length - 1].click(), setTimeout(function () { calculateTime(document.getElementById("win_int00018_000:tab_int00018_000_001:grid").getElementsByClassName("slick-viewport")[0].getElementsByClassName("grid-canvas")[0]) }, 2e3) }, 1750)) : login(usuario = "<USUARIO>" == usuario ? document.getElementById("int_login:tab_int_login:acesso").value : usuario, senha = "<SENHA>" == senha ? document.getElementById("int_login:tab_int_login:senha").value : senha);